# Simple Pipeline Configuration
# For SFM-based crack measurement with pixel-to-mm calibration

paths:
  rgb_dir: data/rgb
  depth_dir: data/depth
  masks_dir: data/yolo_masks
  sfm_dir: data/sfm
  calib_rgb: calib/rgb_camera_info.json
  calib_depth: calib/depth_camera_info.json
  out_dir: outputs

# YOLO Segmentation
yolo:
  weights: models/best.pt
  data_config: yolo_data.yaml
  conf: 0.20                # Low threshold to catch all cracks
  iou: 0.45
  img_size: 1280
  device: null              # Auto-detect (use GPU if available)
  max_det: 300

# SFM (Structure from Motion)
# SFM (Structure from Motion)
# SFM (Structure from Motion)
sfm:
  colmap_exe: /usr/local/bin/colmap   # ← 새로 추가 (절대경로 권장)
  camera_model: OPENCV
  quality: high                       # low | medium | high | extreme
  use_gpu: true                       # ← 새로 추가 (SIFT/Matching에서 GPU 사용)
  matcher: sequential                 # exhaustive | sequential | spatial
  dense: true             # Set to true if you have CUDA (see DENSE_SFM_SETUP.md)
  dense_params:
    geom_consistency: false           # 첫 시도는 false로 (성공률↑)
    max_image_size: 2160

# Pixel-to-MM Calibration
pixel_calibration:
  save_maps: false          # Save individual scale maps (.npy)
  num_samples: 25            # 3x3 grid sampling

# Point Cloud Overlay
point_cloud_overlay:
  crack_color: [255, 0, 0]  # Red for cracks
  min_track_length: 2       # Minimum observations per 3D point

# Measurement
measurement:
  min_length_mm: 10.0       # Minimum crack length (1cm)
  img_shape: [2160, 3840]   # (H, W) for rasterization

# Class Definitions
classes:
  crack: 0

# Visualization Colors
colors:
  crack: [255, 0, 0]  # Red
